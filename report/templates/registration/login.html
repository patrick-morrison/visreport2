{% extends 'report/base.html' %}
{% block content %}

<div class="container">
    <br/>
    <h2>Login</h2>
    <p>With an account you can add reports.</p>
    <p>Don't have an account? <a href = "{% url 'signup' %}">Sign up</a></p>
    <div class = 'form-group {%if field.errors%}alert alert-danger{%endif%}' style="max-width: 400px;">
    <form method = 'post'>

        {% csrf_token %}

        {% load widget_tweaks %}
    
        {%for field in form%}
            {{field.errors}}
            {{field.label_tag}}
            {%render_field field class='form-control'%}
    
        {%endfor%}
        <br>

        <button type="submit" id="login_button" class='btn btn-primary'>Login</button>
    </div>

    </form>
    <br>
    <p><a href="{% url 'password_reset' %}" class = "link-secondary">Forgot password?</a></p>
    
</div>
</div>

<script>
    $('#login_button').one('submit', function() {
    $(this).find('input[type="submit"]').attr('disabled','disabled');
});
</script>

{% endblock %}